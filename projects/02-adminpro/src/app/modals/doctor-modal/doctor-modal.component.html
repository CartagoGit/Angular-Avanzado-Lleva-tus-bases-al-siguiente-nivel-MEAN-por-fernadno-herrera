<div class="modal__body row" [formGroup]="doctorForm">
	<div class="col-6">
		<div class="form-group">
			<!-- TODO PONER UN SELECT UNICO -->
			<label for="name">User</label>
			<input
				type="text"
				class="form-control"
				id="name"
				placeholder="User"
				formControlName="user"
			/>
		</div>
		<div class="form-group">
			<!-- TODO PONER UN SELECT MULTIPLE -->
			<label for="address">Hospitals</label>
			<div class="combo-hospital d-flex w-100">
				<!-- <input
					#hospitalControl
					type="text"
					class="form-control"
					id="address"
					placeholder="Hospitals"
				/> -->
				<!-- [(ngModel)]="hospitalSelected" -->
				<select #hospitalControl class="form-control hospital-select">
					<option
						*ngFor="
							let hospital of doctorForm.controls.hospitals.value || []
								| orderBy : 'name'
						"
						[value]="hospital"
					>
						{{ hospital.name }}
					</option>
				</select>
				<button
					class="btn btn-secondary"
					(click)="addHospital(hospitalControl)"
				>
					Add hospital
				</button>
			</div>
			<div class="hospitals-list m-2">
				<div
					*ngFor="
						let hospital of doctorForm.get('hospitals')?.value;
						let i = index
					"
					class="hospital-row d-flex justify-content-between w-100 p2 px-4"
				>
					<span>{{ hospital }}</span>
					<span
						class="pointer"
						data-toggle="tooltip"
						data-original-title="remove"
						title="Remove"
						(click)="clickRemoveHospital({hospital, index: i})"
					>
						<i class="fa fa-close text-danger"></i>
					</span>
				</div>
			</div>
		</div>
	</div>
	<div class="col-6 d-flex">
		<div class="form-group image-field">
			<label for="logo">Image</label>
			<div class="modal__image-container">
				<img
					class="modal__image"
					[src]="
						(!!doctorForm.get('images')?.value?.length &&
							doctorForm.get('images')!.value![0].url) ||
							data?.dataImages?.defaultImgSrc ||
							defaultImage | safe
					"
					alt="image selected"
				/>
			</div>
			<app-input-file
				[file]="image"
				(fileChanged)="imageChanged($event)"
				[format]="'image'"
			>
			</app-input-file>
		</div>
	</div>
</div>
<div class="modal__footer">
	<ng-container [ngSwitch]="kindModal">
		<button
			*ngSwitchCase="'create'"
			type="button"
			class="btn btn-primary"
			(click)="doctorForm.valid && createDoctor()"
			[ngClass]="{
				disabled: doctorForm.invalid
			}"
		>
			Create new doctor
		</button>
		<button
			*ngSwitchCase="'update'"
			type="button"
			class="btn btn-info"
			(click)="doctorForm.valid && updateDoctor()"
			[ngClass]="{
				disabled: doctorForm.invalid
			}"
		>
			Update doctor
		</button>
	</ng-container>

	<button type="button" class="btn btn-default" (click)="close()">
		Close
	</button>
</div>
